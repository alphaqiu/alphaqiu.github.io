<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"alpha.checkitout.dev","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="Check it out">
<meta property="og:url" content="https://alpha.checkitout.dev/page/2/index.html">
<meta property="og:site_name" content="Check it out">
<meta property="og:description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="alpha">
<meta property="article:tag" content="checkitout.dev">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://alpha.checkitout.dev/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>Check it out</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151212624-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-151212624-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Check it out</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">å·¥ä½œç¬”è®°</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/404.html" rel="section"><i class="fa fa-fw fa-heartbeat"></i>å…¬ç›Š 404</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/alphaqiu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/multi-git-accounts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/multi-git-accounts/" class="post-title-link" itemprop="url">æœ¬åœ°æ”¯æŒå¤šGithubè´¦å·</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-07-03 12:06:23" itemprop="dateCreated datePublished" datetime="2021-07-03T12:06:23+08:00">2021-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-04 21:48:32" itemprop="dateModified" datetime="2023-10-04T21:48:32+08:00">2023-10-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/" itemprop="url" rel="index"><span itemprop="name">å¸®åŠ©æ‰‹å†Œ</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/multi-git-accounts/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/multi-git-accounts/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="åˆ›å»ºéé»˜è®¤æœ¬åœ°SSHå¯†é’¥"><a href="#åˆ›å»ºéé»˜è®¤æœ¬åœ°SSHå¯†é’¥" class="headerlink" title="åˆ›å»ºéé»˜è®¤æœ¬åœ°SSHå¯†é’¥"></a>åˆ›å»ºéé»˜è®¤æœ¬åœ°SSHå¯†é’¥</h2><p>GitHubä¸æ”¯æŒç›¸åŒSSH Keyåœ¨ä¸åŒGitHubè´¦æˆ·ä¸‹ä½¿ç”¨ã€‚æ‰€ä»¥é™¤é»˜è®¤è´¦æˆ·å¤–ï¼Œéœ€è¦å•ç‹¬ä¸ºæ–°GitHubè´¦å·å»ºç«‹ä¸€ä¸ªSSH Keyã€‚æ³¨æ„ï¼Œä½¿ç”¨<code>ssh-keygen</code>ç”Ÿæˆæ–°keyï¼Œå‡ºç°æç¤ºè¾“å…¥æ–‡ä»¶åçš„æ—¶å€™(<code>Enter file in which to save the key (~/.ssh/id_rsa): id_rsa_new</code>)è¦è¾“å…¥ä¸é»˜è®¤é…ç½®ä¸ä¸€æ ·çš„æ–‡ä»¶åï¼Œæ¯”å¦‚ï¼šæˆ‘è¿™é‡Œå¡«çš„æ˜¯ <code>id_rsa_new</code>ã€‚å¦åˆ™ä¼šè¦†ç›–ä¹‹å‰ç”Ÿæˆçš„é»˜è®¤keyã€‚å¹¶ç”¨<code>ssh-add</code>å‘½ä»¤å°†æ–°åˆ›å»ºçš„Keyæ·»åŠ åˆ°ç”±<code>ssh-agent</code> ç»´æŠ¤çš„åˆ—è¡¨ä¸­ã€‚</p>
<blockquote>
<p>ssh-agent æ˜¯ç”¨äºç®¡ç†SSH private keysçš„, é•¿æ—¶é—´æŒç»­è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰. å”¯ä¸€ç›®çš„å°±æ˜¯å¯¹è§£å¯†çš„ç§é’¥è¿›è¡Œé«˜é€Ÿç¼“å­˜ã€‚</p>
<p>ssh-add æç¤ºå¹¶å°†ç”¨æˆ·çš„ä½¿ç”¨çš„ç§é’¥æ·»åŠ åˆ°ç”±ssh-agent ç»´æŠ¤çš„åˆ—è¡¨ä¸­. æ­¤å, å½“ä½¿ç”¨å…¬é’¥è¿æ¥åˆ°è¿œç¨‹ SSH æˆ– SCP ä¸»æœºæ—¶,ä¸å†æç¤ºç›¸å…³ä¿¡æ¯.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 2048 -C <span class="string">&quot;xxx@xxx.com&quot;</span></span><br><span class="line">ssh-add ~/.ssh/id_rsa_new</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡ºç° <strong>Could not open a connection to your authentication agent</strong> çš„é”™è¯¯ï¼Œå°±è¯•ç€ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>ssh-agent bash</span><br><span class="line"><span class="variable">$ </span>ssh-add ~<span class="regexp">/.ssh/id</span>_rsa_new</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/multi-git-accounts/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/2021/04/22/PostgreSQL%2012%20%E6%94%AF%E6%8C%81%20Generated%20Columns%20%E7%89%B9%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/22/PostgreSQL%2012%20%E6%94%AF%E6%8C%81%20Generated%20Columns%20%E7%89%B9%E6%80%A7/" class="post-title-link" itemprop="url">PostgreSQL 12æ”¯æŒ Generated Columns ç‰¹æ€§</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-22 14:15:02 / ä¿®æ”¹æ—¶é—´ï¼š16:46:22" itemprop="dateCreated datePublished" datetime="2021-04-22T14:15:02+08:00">2021-04-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">database</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2021/04/22/PostgreSQL%2012%20%E6%94%AF%E6%8C%81%20Generated%20Columns%20%E7%89%B9%E6%80%A7/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/04/22/PostgreSQL 12 æ”¯æŒ Generated Columns ç‰¹æ€§/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PostgreSQL-12-æ”¯æŒ-Generated-Columns-ç‰¹æ€§"><a href="#PostgreSQL-12-æ”¯æŒ-Generated-Columns-ç‰¹æ€§" class="headerlink" title="PostgreSQL 12: æ”¯æŒ Generated Columns ç‰¹æ€§"></a>PostgreSQL 12: æ”¯æŒ Generated Columns ç‰¹æ€§</h1><p>PostgreSQL 12 ä¸€ä¸ªç»™åŠ›SQLç‰¹æ€§æ˜¯å¢åŠ äº†å¯¹ Generated Columns çš„æ”¯æŒï¼Œè¿™ä¸ªç‰¹æ€§å¹¶ä¸é™Œç”Ÿï¼ŒMySQL å·²ç»æ”¯æŒè¿™ä¸ªç‰¹æ€§ã€‚</p>
<p>è¿™ä¸ªç‰¹æ€§å¯¹åˆ†æç±»åœºæ™¯æ¯”è¾ƒæœ‰ç”¨ï¼Œæœ¬æ–‡ç®€å•æµ‹è¯•ä¸‹ PostgreSQL çš„è¿™ä¸ªç‰¹æ€§ã€‚</p>
<h1 id="å‘è¡Œè¯´æ˜"><a href="#å‘è¡Œè¯´æ˜" class="headerlink" title="å‘è¡Œè¯´æ˜"></a>å‘è¡Œè¯´æ˜</h1><blockquote>
<p>Add support for generated columns (Peter Eisentraut)</p>
<p>The content of generated columns are computed from expressions (including references to other columns in the same table) rather than being specified by INSERT or UPDATE commands.</p>
</blockquote>
<h1 id="è¡¥ä¸è¯´æ˜"><a href="#è¡¥ä¸è¯´æ˜" class="headerlink" title="è¡¥ä¸è¯´æ˜"></a>è¡¥ä¸è¯´æ˜</h1><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Generated</span> <span class="keyword">columns</span></span><br><span class="line"></span><br><span class="line">This <span class="keyword">is</span> an <span class="keyword">SQL</span>-standard feature that allows creating <span class="keyword">columns</span> that are</span><br><span class="line">computed <span class="keyword">from</span> expressions rather than assigned, <span class="keyword">similar</span> <span class="keyword">to</span> a <span class="keyword">view</span> <span class="keyword">or</span></span><br><span class="line"><span class="keyword">materialized</span> <span class="keyword">view</span> but <span class="keyword">on</span> a <span class="keyword">column</span> basis.</span><br><span class="line"></span><br><span class="line">This implements one kind <span class="keyword">of</span> <span class="keyword">generated</span> <span class="keyword">column</span>: stored (computed <span class="keyword">on</span></span><br><span class="line"><span class="keyword">write</span>).  Another kind, virtual (computed <span class="keyword">on</span> <span class="keyword">read</span>), <span class="keyword">is</span> planned <span class="keyword">for</span> the</span><br><span class="line">future, <span class="keyword">and</span> <span class="keyword">some</span> room <span class="keyword">is</span> left <span class="keyword">for</span> it.</span><br><span class="line"></span><br><span class="line">Discussion: https://www.postgresql.org/message-id/flat/<span class="number">-4019</span>-bdb1<span class="number">-699</span>e-@<span class="number">2</span>ndquadrant.com</span><br></pre></td></tr></table></figure>
<p>generated column åˆ—çš„å€¼æ˜¯æ ¹æ®å…¶å®ƒåˆ—è¡¨è¾¾å¼è®¡ç®—è€Œå¾—ï¼Œå’ŒåŸºäºè¡¨çš„ç‰©åŒ–è§†å›¾æœ‰äº›ç±»ä¼¼ã€‚</p>
<p>ç›®å‰ä»…æ”¯æŒ stored (computed on write)ï¼Œ virtual (computed on read) æš‚ä¸æ”¯æŒï¼Œä»¥åç‰ˆæœ¬ä¼šæ”¯æŒã€‚</p>
<h1 id="Generated-columns-è¯­æ³•"><a href="#Generated-columns-è¯­æ³•" class="headerlink" title="Generated columns è¯­æ³•"></a>Generated columns è¯­æ³•</h1><blockquote>
<p>GENERATED ALWAYS AS ( generation_expr ) STORED</p>
</blockquote>
<p>generated column è¯´æ˜å¦‚ä¸‹:</p>
<ul>
<li>STOREDï¼š è¡¨ç¤º Generated columns ç±»å‹ä¸º â€œcomputed on writeâ€ï¼Œ æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸Šã€‚</li>
<li>generation_expr: åªèƒ½å¼•ç”¨æœ¬è¡¨çš„é generated column å­—æ®µï¼Œä¸å¯ä»¥å¼•ç”¨å…¶å®ƒè¡¨çš„å­—æ®µï¼Œä½¿ç”¨çš„è¡¨è¾¾å¼å’Œæ“ä½œç¬¦å¿…é¡»æ˜¯ immutable å±æ€§ã€‚</li>
<li>generated column å­—æ®µåªè¯»: ä¸æ”¯æŒ INSRET å’Œ UPDATEã€‚</li>
</ul>
<p>ä½¿ç”¨å¿ƒå¾—ï¼š</p>
<ul>
<li>æ‰€è°“â€œä½¿ç”¨è¡¨è¾¾å¼å’Œæ“ä½œç¬¦å¿…é¡»æ˜¯immutableå±æ€§â€å°±æ˜¯ä¸èƒ½æ˜¯åŠ¨æ€çš„æ“ä½œï¼Œæ¯”å¦‚è¡¨è¾¾å¼ä¸­æœ‰å‡½æ•°ï¼Œå®ƒä¼šè®¤ä¸ºæ˜¯åŠ¨æ€çš„ã€‚</li>
<li>æ›´æ–°ç›¸å…³çš„å­—æ®µï¼Œgenerated column å­—æ®µä¸­çš„è¡¨è¾¾å¼åŒ…å«è¿™äº›å­—æ®µçš„è¯ï¼Œè¯¥generated columnå­—æ®µä¼šè¢«æ›´æ–°ã€‚</li>
</ul>
<h1 id="Generated-columns-æ¼”ç¤º"><a href="#Generated-columns-æ¼”ç¤º" class="headerlink" title="Generated columns æ¼”ç¤º"></a>Generated columns æ¼”ç¤º</h1><p>åˆ›å»ºæµ‹è¯•è¡¨ score å¹¶æ’å…¥ä¸€æ¡æµ‹è¯•ï¼Œå¦‚ä¸‹:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> score(stuid int4, chinese int2, math int2, sum_score int2 GENERATED ALWAYS <span class="keyword">AS</span> (chinese<span class="operator">+</span>math) STORED );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span></span><br><span class="line"></span><br><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> \d score</span><br><span class="line">                                   <span class="keyword">Table</span> &quot;pguser.score&quot;</span><br><span class="line">  <span class="keyword">Column</span>   <span class="operator">|</span>   Type   <span class="operator">|</span> <span class="keyword">Collation</span> <span class="operator">|</span> Nullable <span class="operator">|</span>                   <span class="keyword">Default</span></span><br><span class="line"><span class="comment">-----------+----------+-----------+----------+------------------------------------------</span></span><br><span class="line"> stuid     <span class="operator">|</span> <span class="type">integer</span>  <span class="operator">|</span>           <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"> chinese   <span class="operator">|</span> <span class="type">smallint</span> <span class="operator">|</span>           <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"> math      <span class="operator">|</span> <span class="type">smallint</span> <span class="operator">|</span>           <span class="operator">|</span>          <span class="operator">|</span></span><br><span class="line"> sum_score <span class="operator">|</span> <span class="type">smallint</span> <span class="operator">|</span>           <span class="operator">|</span>          <span class="operator">|</span> generated always <span class="keyword">as</span> (chinese <span class="operator">+</span> math) stored</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> score(stuid,chinese,math) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">90</span>,<span class="number">95</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å¤‡æ³¨: è¡¨ socre çš„ sum_score ä¸º generated columnã€‚</p>
<p>éªŒè¯ sum_score åˆ—çš„æ•°æ®ï¼Œå¦‚ä¸‹:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> score;</span><br><span class="line"> stuid <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> sum_score</span><br><span class="line"><span class="comment">-------+---------+------+-----------</span></span><br><span class="line">     <span class="number">1</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span>   <span class="number">95</span> <span class="operator">|</span>       <span class="number">185</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>
<p>Generated columns ä¸æ”¯æŒ INSERT å’Œ UPDATEï¼Œå¦‚ä¸‹:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> score(stuid,chinese,math,sum_score) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">80</span>,<span class="number">70</span>,<span class="number">100</span>);</span><br><span class="line">psql: ERROR:  cannot <span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">column</span> &quot;sum&quot;</span><br><span class="line">DETAIL:  <span class="keyword">Column</span> &quot;sum&quot; <span class="keyword">is</span> a generated column.</span><br><span class="line"></span><br><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">UPDATE</span> score <span class="keyword">SET</span> sum_score<span class="operator">=</span><span class="number">100</span> <span class="keyword">WHERE</span> stuid<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">psql: ERROR:  <span class="keyword">column</span> &quot;sum&quot; can <span class="keyword">only</span> be updated <span class="keyword">to</span> <span class="keyword">DEFAULT</span></span><br><span class="line">DETAIL:  <span class="keyword">Column</span> &quot;sum&quot; <span class="keyword">is</span> a generated column.</span><br></pre></td></tr></table></figure>
<p>Generated columns æ”¯æŒåˆ›å»ºç´¢å¼•ï¼Œå¦‚ä¸‹:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mydb<span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">CREATE</span> INDEX idx_score_sum <span class="keyword">ON</span> score <span class="keyword">USING</span> BTREE(sum);</span><br><span class="line"><span class="keyword">CREATE</span> INDEX</span><br></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡ç®€å•æ¼”ç¤ºäº† Generated columns çš„ä½¿ç”¨ï¼Œæ³¨æ„å¦‚ä¸‹:</p>
<ul>
<li>Generated columns æœ‰ä¸¤ç§ç±»å‹ï¼Œ Stored (computed on write) å’Œ Virtual (computed on read)ï¼Œç›®å‰ä»…æ”¯æŒ stored ç±»å‹ï¼Œæ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸Šã€‚</li>
<li>Generated columns åªèƒ½å¼•ç”¨æœ¬è¡¨çš„é generated column å­—æ®µï¼Œä¸å¯ä»¥å¼•ç”¨å…¶å®ƒè¡¨çš„å­—æ®µã€‚</li>
<li>Generated columns ä½¿ç”¨çš„è¡¨è¾¾å¼å’Œæ“ä½œç¬¦å¿…é¡»æ˜¯ Immutable å±æ€§ã€‚</li>
<li>generated columns å­—æ®µåªè¯»ï¼Œä¸æ”¯æŒ INSRET å’Œ UPDATEã€‚</li>
<li>generated columns æ”¯æŒåˆ›å»ºç´¢å¼•ã€‚</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/2021/04/10/%E5%AE%89%E8%A3%85-TCP-BBR%E6%8B%A5%E5%A1%9E%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/10/%E5%AE%89%E8%A3%85-TCP-BBR%E6%8B%A5%E5%A1%9E%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">å®‰è£… TCP BBRæ‹¥å¡ç®—æ³•</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-10 14:15:02" itemprop="dateCreated datePublished" datetime="2021-04-10T14:15:02+08:00">2021-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-04 21:48:40" itemprop="dateModified" datetime="2023-10-04T21:48:40+08:00">2023-10-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2021/04/10/%E5%AE%89%E8%A3%85-TCP-BBR%E6%8B%A5%E5%A1%9E%E7%AE%97%E6%B3%95/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/04/10/å®‰è£…-TCP-BBRæ‹¥å¡ç®—æ³•/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å®‰è£…-TCP-BBRæ‹¥å¡ç®—æ³•"><a href="#å®‰è£…-TCP-BBRæ‹¥å¡ç®—æ³•" class="headerlink" title="å®‰è£… TCP BBRæ‹¥å¡ç®—æ³•"></a>å®‰è£… TCP BBRæ‹¥å¡ç®—æ³•</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.williamlong.info/archives/5586.html">https://www.williamlong.info/archives/5586.html</a> æœˆå…‰åšå®¢</p>
<p>TCP BBRï¼ˆBottleneck Bandwidth and Round-trip propagation timeï¼‰æ˜¯ç”±Googleè®¾è®¡ï¼Œäº2016å¹´å‘å¸ƒçš„æ‹¥å¡ç®—æ³•ã€‚ä»¥å¾€å¤§éƒ¨åˆ†æ‹¥å¡ç®—æ³•æ˜¯åŸºäºä¸¢åŒ…æ¥ä½œä¸ºé™ä½ä¼ è¾“é€Ÿç‡çš„ä¿¡å·ï¼Œè€ŒBBRåˆ™åŸºäºæ¨¡å‹ä¸»åŠ¨æ¢æµ‹ã€‚è¯¥ç®—æ³•ä½¿ç”¨ç½‘ç»œæœ€è¿‘å‡ºç«™æ•°æ®åˆ†ç»„å½“æ—¶çš„æœ€å¤§å¸¦å®½å’Œå¾€è¿”æ—¶é—´æ¥åˆ›å»ºç½‘ç»œçš„æ˜¾å¼æ¨¡å‹ã€‚æ•°æ®åŒ…ä¼ è¾“çš„æ¯ä¸ªç´¯ç§¯æˆ–é€‰æ‹©æ€§ç¡®è®¤ç”¨äºç”Ÿæˆè®°å½•åœ¨æ•°æ®åŒ…ä¼ è¾“è¿‡ç¨‹å’Œç¡®è®¤è¿”å›æœŸé—´çš„æ—¶é—´å†…æ‰€ä¼ é€æ•°æ®é‡çš„é‡‡æ ·ç‡ã€‚</p>
<p>Googleåœ¨<a target="_blank" rel="noopener" href="https://www.williamlong.info/tag/YouTube.html">YouTube</a>ä¸Šåº”ç”¨è¯¥ç®—æ³•ï¼Œå°†å…¨çƒå¹³å‡çš„YouTubeç½‘ç»œååé‡æé«˜äº†4%ï¼Œåœ¨ä¸€äº›å›½å®¶è¶…è¿‡äº†14%ã€‚æ ¹æ®å®åœ°æµ‹è¯•ï¼Œåœ¨éƒ¨ç½²äº†æœ€æ–°ç‰ˆå†…æ ¸å¹¶å¼€å¯äº† TCP BBR çš„æœºå™¨ä¸Šï¼Œç½‘é€Ÿç”šè‡³å¯ä»¥æå‡å¥½å‡ ä¸ªæ•°é‡çº§ã€‚</p>
<p>ã€€ã€€ä» 4.9 å¼€å§‹ï¼ŒLinux å†…æ ¸å·²ç»ç”¨ä¸Šäº†è¯¥ç®—æ³•ï¼Œå¹¶ä¸”å¯¹äºQUICå¯ç”¨ã€‚å¦‚æœæƒ³åœ¨Linuxä½¿ç”¨BBRï¼Œé‚£ä¹ˆé¦–å…ˆå°±æ˜¯åˆ¤æ–­å†…æ ¸ç‰ˆæœ¬æ˜¯å¦å¤§äº4.9ï¼Œå¦‚æœç¬¦åˆç‰ˆæœ¬æ ‡å‡†ï¼Œé‚£ä¹ˆç›´æ¥å¯åŠ¨BBRå°±å¯ä»¥äº†ï¼Œå¦‚æœä½äº4.9ï¼Œå‡çº§å†…æ ¸ä¹‹åå¯åŠ¨å°±è¡Œäº†ã€‚</p>
</blockquote>
<h2 id="CentOS-7-3ä¸Šå®‰è£…TCP-BBRçš„æ–¹æ³•"><a href="#CentOS-7-3ä¸Šå®‰è£…TCP-BBRçš„æ–¹æ³•" class="headerlink" title="CentOS 7.3ä¸Šå®‰è£…TCP BBRçš„æ–¹æ³•"></a>CentOS 7.3ä¸Šå®‰è£…TCP BBRçš„æ–¹æ³•</h2><p>é¦–å…ˆå°†Centosç³»ç»Ÿæ›´æ–°ï¼Œæ›´æ–°åˆ°7.3ç‰ˆæœ¬ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ï¼Œè¾“å‡ºçš„releaseæ•°å€¼å¤§äº7.3å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/redhat-release</span><br></pre></td></tr></table></figure>
<p>å¯¹äºæŸäº›æœºå™¨æ¥è¯´ï¼Œå®‰è£…ä¸€ä¸‹wget</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> wget</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤å®‰è£…elrepoå¹¶å‡çº§å†…æ ¸</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org</span><br><span class="line">rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</span><br><span class="line">yum --enablerepo=elrepo-kernel install kernel-ml -y</span><br><span class="line">grub2-set-default 0</span><br><span class="line">grub2-mkconfig -o /etc/grub2.cfg</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<p>æ›´æ–°grubæ–‡ä»¶å¹¶é‡å¯ï¼ˆrebootåï¼Œsshä¼šæ–­å¼€ï¼Œç¨ç­‰ä¸€ä¼šå„¿é‡æ–°è¿æ¥ï¼‰å¼€æœºåæŸ¥çœ‹å†…æ ¸æ˜¯å¦å·²æ›´æ¢.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨BBRã€‚ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.core.default_qdisc = fq&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.tcp_congestion_control = bbr&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p </span><br></pre></td></tr></table></figure>
<p>éªŒè¯bbræ˜¯å¦å·²ç»å¼€å¯</p>
<p>Aï¼ŒéªŒè¯å½“å‰TCPæ§åˆ¶ç®—æ³•çš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure>
<p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š</p>
<p><code>net.ipv4.tcp_available_congestion_control = bbr cubic reno</code> æˆ–è€…ä¸ºï¼š</p>
<p><code>net.ipv4.tcp_available_congestion_control = reno cubic bbr</code></p>
<p>Bï¼ŒéªŒè¯BBRæ˜¯å¦å·²ç»å¯åŠ¨ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure>
<p>è¿”å›å€¼ä¸€èˆ¬ä¸ºï¼š<code>net.ipv4.tcp_congestion_control = bbr</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure>
<p>è¿”å›å€¼æœ‰ tcp_bbr æ¨¡å—å³è¯´æ˜ bbr å·²å¯åŠ¨ã€‚</p>
<h2 id="CentOS8ä¸Šå¯ç”¨TCP-BBRæ–¹æ³•"><a href="#CentOS8ä¸Šå¯ç”¨TCP-BBRæ–¹æ³•" class="headerlink" title="CentOS8ä¸Šå¯ç”¨TCP BBRæ–¹æ³•"></a>CentOS8ä¸Šå¯ç”¨TCP BBRæ–¹æ³•</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">LSB</span> Version:	:core-<span class="number">4</span>.<span class="number">1</span>-amd64:core-<span class="number">4</span>.<span class="number">1</span>-noarch</span><br><span class="line"><span class="attribute">Distributor</span> ID:	CentOS</span><br><span class="line"><span class="attribute">Description</span>:	CentOS Linux release <span class="number">8</span>.<span class="number">1</span>.<span class="number">1911</span> (Core)</span><br><span class="line"><span class="attribute">Release</span>:	<span class="number">8</span>.<span class="number">1</span>.<span class="number">1911</span></span><br><span class="line"><span class="attribute">Codename</span>:	Core</span><br></pre></td></tr></table></figure>
<p>å·²ç»è‡ªå¸¦äº†BBR</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åŠ è½½BBRç®—æ³•</span></span><br><span class="line">/sbin/modprobe tcp_bbr</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç¼–è¾‘ç³»ç»Ÿé…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo vi /etc/sysctl.conf</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç»“å°¾æ·»åŠ ä¸¤è¡Œ</span></span><br><span class="line">net.core.default_qdisc=fq</span><br><span class="line">net.ipv4.tcp_congestion_control=bbr</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line">sysctl -p</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å·²åŠ è½½ç®—æ³•æ¨¡å—</span></span><br><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/2020/05/02/%E5%88%87%E5%89%B2%E6%97%A5%E5%BF%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/02/%E5%88%87%E5%89%B2%E6%97%A5%E5%BF%97/" class="post-title-link" itemprop="url">åˆ‡å‰²æ—¥å¿—</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-05-02 12:57:52 / ä¿®æ”¹æ—¶é—´ï¼š13:18:15" itemprop="dateCreated datePublished" datetime="2020-05-02T12:57:52+08:00">2020-05-02</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2020/05/02/%E5%88%87%E5%89%B2%E6%97%A5%E5%BF%97/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/05/02/åˆ‡å‰²æ—¥å¿—/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä¸€äº›ç¨‹åºä¼šè¾“å‡ºå¾ˆå¤šçš„æ—¥å¿—ï¼Œä½†æ˜¯éƒ½è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚éšç€æ–‡ä»¶å°ºå¯¸è¶Šæ¥è¶Šå¤§ï¼Œä¼šå ç”¨å¾ˆå¤šç©ºé—´ã€‚åŒæ—¶è¶…å¤§æ–‡ä»¶ä¹Ÿä¸ä¾¿äºæ“ä½œã€‚éœ€è¦å¯¹æ—¥å¿—æ–‡ä»¶åšåˆ‡å‰²ã€‚åˆ‡å‰²æ—¥å¿—æœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œè¿™é‡Œé€‰ç”¨logrotateã€‚</p>
<h2 id="ç¨‹åºå¯åŠ¨å‘½ä»¤"><a href="#ç¨‹åºå¯åŠ¨å‘½ä»¤" class="headerlink" title="ç¨‹åºå¯åŠ¨å‘½ä»¤"></a>ç¨‹åºå¯åŠ¨å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup lotus daemon &gt;&gt; logs/lotus.log &amp;</span><br></pre></td></tr></table></figure>
<p>è®©ç¨‹åºåœ¨åå°è¿è¡Œï¼Œå¹¶å°†æ—¥å¿—é‡å®šå‘å¹¶è¿½åŠ åœ¨æ—¥å¿—æ–‡ä»¶ä¹‹åã€‚æŠŠ <code>&gt;</code> æ›¿æ¢æˆ <code>&gt;&gt;</code> è¿½åŠ çš„å½¢å¼,å°±å¯ä»¥è¢«logrotateæ­£å¸¸åˆ‡å‰²ã€‚</p>
<h3 id="é‡å®šå‘å’Œè¿½åŠ çš„åŒºåˆ«"><a href="#é‡å®šå‘å’Œè¿½åŠ çš„åŒºåˆ«" class="headerlink" title="é‡å®šå‘å’Œè¿½åŠ çš„åŒºåˆ«"></a>é‡å®šå‘å’Œè¿½åŠ çš„åŒºåˆ«</h3><blockquote>
<p><strong><code>&gt;</code></strong> è¾“å‡ºé‡å®šå‘ï¼šä¼šå°†åŸæ¥çš„æ–‡ä»¶å†…å®¹<strong>è¦†ç›–</strong></p>
<p><strong><code>&gt;&gt;</code></strong>è¿½åŠ ï¼šä¸ä¼šè¦†ç›–åŸæ¥æ–‡ä»¶çš„å†…å®¹ï¼Œè€Œæ˜¯<strong>è¿½åŠ </strong>åˆ°æ–‡ä»¶çš„å°¾éƒ¨</p>
<p>åŸºæœ¬è¯­æ³•</p>
<ol>
<li>```<br>ls -l &gt; a.txt<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    åˆ—è¡¨çš„å†…å®¹å†™å…¥æ–‡ä»¶a.txtï¼ˆè¦†ç›–å†™ï¼‰</span><br><span class="line"></span><br><span class="line">   - ç¤ºä¾‹ï¼š`ls -l &gt; a.txt`</span><br><span class="line">   - è¯´æ˜ï¼š`ls -l &gt; a.txt`,å°†`ls -l`çš„æ˜¾ç¤ºå†…å®¹**è¦†ç›–**å†™å…¥åˆ°a.txtæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ ï¼Œå°±åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. `ls -al &gt;&gt; æ–‡ä»¶` :åˆ—è¡¨çš„å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶aa.txtçš„æœ«å°¾</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. `cat æ–‡ä»¶<span class="number">1</span> &gt; æ–‡ä»¶<span class="number">2</span>` :å°†æ–‡ä»¶<span class="number">1</span>çš„å†…å®¹è¦†ç›–åˆ°æ–‡ä»¶<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. `echo <span class="string">&quot;å†…å®¹&quot;</span> &gt;&gt; æ–‡ä»¶`:å°†å†…å®¹ è¿½åŠ åˆ°æ–‡ä»¶ä¸­</span><br><span class="line"></span><br><span class="line">## logrotate æ–‡ä»¶åˆ‡å‰²</span><br><span class="line"></span><br><span class="line">åœ¨`/etc/logrotate.d/`ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ `/etc/logrotate.d/lotus`å†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
/path/to/*.log<br>{<br> rotate 10<br> size 5M<br> daily<br> copytruncate<br> create 664 alpha alpha<br> missingok<br> notifempty<br> compress<br> delaycompress<br>}<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">**rotate** - é™åˆ¶æ—¥å¿—æ–‡ä»¶è½®è½¬çš„æ•°é‡ã€‚å› æ­¤ï¼Œè¿™å°†åªä¿ç•™æœ€è¿‘çš„ 10 ä¸ªè½®è½¬çš„æ—¥å¿—æ–‡ä»¶ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**size** - logrotate ä»…åœ¨æ–‡ä»¶å¤§å°ç­‰äºï¼ˆæˆ–å¤§äºï¼‰æ­¤å¤§å°æ—¶è¿è¡Œã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**create** - è½®æ¢åŸå§‹æ–‡ä»¶å¹¶åˆ›å»ºå…·æœ‰æŒ‡å®šæƒé™ã€ç”¨æˆ·å’Œç»„çš„æ–°æ–‡ä»¶ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**compress** - å‹ç¼©æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**delaycompress** - å»¶è¿Ÿå‹ç¼©æœ€è¿‘ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**copytruncate** - ğŸŒ¶ï¸ ï¼ˆæœ‰å®ƒå°±èƒ½å®ç°æ–‡ä»¶åˆ‡å‰²ï¼‰åœ¨åˆ›å»ºå‰¯æœ¬åå°†åŸå§‹æ—¥å¿—æ–‡ä»¶æˆªæ–­ä¸ºé›¶å¤§å°ï¼Œè€Œä¸æ˜¯ç§»åŠ¨æ—§æ—¥å¿—æ–‡ä»¶å’Œå¯ä»¥é€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚å®ƒå¯ä»¥åœ¨æŸäº›ç¨‹åºæ— æ³•å…³é—­å…¶æ—¥å¿—æ–‡ä»¶æ—¶ä½¿ç”¨ï¼Œå› æ­¤å¯èƒ½ç»§ç»­æ°¸è¿œå†™å…¥ï¼ˆè¿½åŠ ï¼‰ä¸Šä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚æ³¨æ„ï¼Œåœ¨å¤åˆ¶æ–‡ä»¶å¹¶å°†å…¶æˆªæ–­ï¼Œå› æ­¤æŸäº›æ—¥å¿—æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œåˆ›å»ºé€‰é¡¹å°†ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºæ—§çš„æ—¥å¿—æ–‡ä»¶ä»åœ¨åŸå¤„ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**daily** - ä¼¼ä¹æ²¡æœ‰å°æ—¶çº§åˆ«çš„æ—¥å¿—è½®è½¬ï¼Œæœªç¡®è®¤ã€‚è¿™ä¸ªé€‰é¡¹ä»£è¡¨æŒ‰å¤©æ‰§è¡Œæ—¥å¿—è½®è½¬</span></span><br><span class="line"></span><br><span class="line">æƒ³è¦ç«‹å³æ‰§è¡Œï¼Œå¯ä»¥æ‰§è¡Œ`logrotate /etc/logrotate.<span class="keyword">conf</span>`</span><br><span class="line"></span><br><span class="line">## æŸ¥çœ‹å‹ç¼©æ—¥å¿—æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">```<span class="keyword">shell</span></span><br><span class="line">zcat example.<span class="keyword">log</span>.1.gz &gt; example.<span class="keyword">log</span>.1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>Here are several alternatives:</p>
<ul>
<li><p>Give <code>gunzip</code> the <code>--keep</code> option (version 1.6 or later)</p>
<blockquote>
<p><code>-k</code>  <code>--keep</code></p>
<pre><code>Keep (don&#39;t delete) input files during compression or decompression.
</code></pre></blockquote>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip -k <span class="built_in">file</span>.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pass the file to <code>gunzip</code> as stdin</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip &lt; <span class="built_in">file</span>.gz &gt; <span class="built_in">file</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Use <code>zcat</code> (or, on older systems, <code>gzcat</code>)</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcat <span class="built_in">file</span>.gz &gt; <span class="built_in">file</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://www.ostechnix.com/manage-log-files-using-logrotate-linux/">How To Manage Log Files Using Logrotate In Linux</a></p>
<p><a target="_blank" rel="noopener" href="https://www.linuxprobe.com/configure-logrotate-tutorial.html">é…ç½® logrotate æ•™ç¨‹</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mayifan0/article/details/80453062">logrotateåˆ‡å‰²nohupæ—¥å¿—å¤§å°ä¸å˜</a></p>
<p><a target="_blank" rel="noopener" href="https://www.coder.work/article/1912078">å¦‚ä½•å°†logrotateä¸è¾“å‡ºé‡å®šå‘ä¸€èµ·ä½¿ç”¨</a></p>
<p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/156261/unzipping-a-gz-file-without-removing-the-gzipped-file">Unzipping a .gz file without removing the gzipped file</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/how-to-force-reset-local-branch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/how-to-force-reset-local-branch/" class="post-title-link" itemprop="url">å¼ºåˆ¶ä½¿ç”¨è¿œç¨‹åˆ†æ”¯è¦†ç›–æœ¬åœ°åˆ†æ”¯</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-05-02 10:50:35" itemprop="dateCreated datePublished" datetime="2020-05-02T10:50:35+08:00">2020-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-04 21:48:11" itemprop="dateModified" datetime="2023-10-04T21:48:11+08:00">2023-10-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/" itemprop="url" rel="index"><span itemprop="name">å¸®åŠ©æ‰‹å†Œ</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/how-to-force-reset-local-branch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/how-to-force-reset-local-branch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/xxx</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ<code>origin/xxx</code>æ˜¯æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯å‰¯æœ¬ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/2020/04/20/%E6%97%A5%E5%BF%97%E5%BA%93%E6%89%93%E5%8D%B0%E8%A1%8C%E5%8F%B7%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/%E6%97%A5%E5%BF%97%E5%BA%93%E6%89%93%E5%8D%B0%E8%A1%8C%E5%8F%B7%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">æ—¥å¿—åº“æ‰“å°è¡Œå·é—®é¢˜</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-20 11:41:03" itemprop="dateCreated datePublished" datetime="2020-04-20T11:41:03+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-21 20:41:36" itemprop="dateModified" datetime="2020-04-21T20:41:36+08:00">2020-04-21</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2020/04/20/%E6%97%A5%E5%BF%97%E5%BA%93%E6%89%93%E5%8D%B0%E8%A1%8C%E5%8F%B7%E9%97%AE%E9%A2%98/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/04/20/æ—¥å¿—åº“æ‰“å°è¡Œå·é—®é¢˜/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>golangæä¾›è¿è¡Œæ—¶å †æ ˆè°ƒç”¨æ¥å£<code>runtime.Caller</code>ã€‚æ‰€æœ‰çš„æ—¥å¿—åº“éƒ½æ˜¯åŸºäºè¯¥æ¥å£å®ç°æ—¥å¿—ä¸­æ‰“å°æ—¥å¿—è¾“å‡ºæ‰€åœ¨æ–‡ä»¶ã€è¡Œå·ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;path&quot;</span></span><br><span class="line">	<span class="string">&quot;runtime&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">log</span><span class="params">(loglvl, format <span class="type">string</span>, args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	_, file, line, ok := runtime.Caller(<span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span> !ok &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">&quot;asdf&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	now := time.Now().Format(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>)</span><br><span class="line"></span><br><span class="line">	format = fmt.Sprintf(<span class="string">&quot;[%s]%s\t%s:%d %s&quot;</span>, loglvl, now, path.Base(file), line, format)</span><br><span class="line">	fmt.Fprintf(os.Stdout, format, args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">(data <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	log(<span class="string">&quot;info&quot;</span>, <span class="string">&quot;doSomething: %s&quot;</span>, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	doSomething(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[info]</span><span class="number">2020</span>-<span class="number">04</span>-<span class="number">20</span> <span class="number">11</span>:<span class="number">42</span>:<span class="number">06</span>	<span class="selector-tag">main</span><span class="selector-class">.go</span>:<span class="number">12</span> doSomething: <span class="selector-attr">[hello world]</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¾“å‡ºçš„æ—¥å¿—è¡Œå·æ˜¾ç¤ºä¸º12ã€‚è¡Œå·12æ‰€åœ¨çš„ä½ç½®ä¸æ˜¯å®é™…æƒ³è¦æ˜¾ç¤ºçš„æ—¥å¿—ä½ç½®ã€‚å®é™…æƒ³è¦æ˜¾ç¤ºçš„æ—¥å¿—ä½ç½®åœ¨24è¡Œã€‚è¿™é‡Œåªéœ€è¦è®¾ç½®<code>runtime.Caller(1)</code>å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>func Caller(skip int) (pc uintptr, file string, line int, ok bool)</p>
<p>Caller reports file and line number information about function invocations on the calling goroutineâ€™s stack.<br>The argument skip is the number of stack frames to ascend, with 0 identifying the caller of Caller.<br>(For historical reasons the meaning of skip differs between Caller and Callers.)<br>The return values report the program counter, file name, and line number within the file of the corresponding call.<br>The boolean ok is false if it was not possible to recover the information.</p>
<p>Caller å‡½æ•°æŠ¥å‘Šæœ‰å…³è°ƒç”¨goroutineå †æ ˆä¸Šçš„å‡½æ•°è°ƒç”¨çš„æ–‡ä»¶å’Œè¡Œå·ä¿¡æ¯ã€‚<br>å‚æ•°skipæ˜¯è¦æå‡çš„å †æ ˆå¸§æ•°ï¼Œå…¶ä¸­0æ ‡è¯†Callerçš„è°ƒç”¨æ–¹ã€‚ </p>
<p>ï¼ˆç”±äºå†å²åŸå› ï¼Œåœ¨Callerå’ŒCallersä¹‹é—´ï¼Œè·³è¿‡çš„å«ä¹‰æœ‰æ‰€ä¸åŒã€‚ï¼‰<br>è¿”å›å€¼æŠ¥å‘Šç›¸åº”è°ƒç”¨æ–‡ä»¶ä¸­çš„ç¨‹åºè®¡æ•°å™¨ï¼Œæ–‡ä»¶åå’Œè¡Œå·ã€‚<br>å¦‚æœä¸å¯èƒ½æ¢å¤è¯¥ä¿¡æ¯ï¼Œåˆ™okå¸ƒå°”å€¼ä¸ºFalseã€‚</p>
</blockquote>
<p>ä»¥<code>go.uber.org/zap</code>æ—¥å¿—åº“ä¸ºä¾‹ï¼Œå®ƒä¹Ÿæä¾›äº†è®¾ç½®è¯¥<code>skip</code>çš„è®¾ç½®ï¼Œä»¥æ–¹ä¾¿å¯¹å…¶è¿›è¡ŒäºŒæ¬¡åŒ…è£…ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">lgcfg = zap.Config&#123;</span><br><span class="line">		Level:            zap.NewAtomicLevelAt(zap.DebugLevel),</span><br><span class="line">		Development:      <span class="literal">true</span>,</span><br><span class="line">		Encoding:         <span class="string">&quot;console&quot;</span>,</span><br><span class="line">		EncoderConfig:    zap.NewDevelopmentEncoderConfig(),</span><br><span class="line">		OutputPaths:      []<span class="type">string</span>&#123;<span class="string">&quot;stderr&quot;</span>, logFilePath&#125;,</span><br><span class="line">		ErrorOutputPaths: []<span class="type">string</span>&#123;<span class="string">&quot;stderr&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line">lgr, _ := lgcfg.Build(zap.AddCaller(), zap.AddCallerSkip(<span class="number">1</span>))</span><br><span class="line">logger = lgr.Sugar()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Info</span><span class="params">(args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	logger.Info(args...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Infof</span><span class="params">(tpl <span class="type">string</span>, args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	logger.Infof(tpl, args...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/filecoin-elliptic-and-sign/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/filecoin-elliptic-and-sign/" class="post-title-link" itemprop="url">FileCoinè´¦æˆ·å’Œç¦»çº¿ç­¾å</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-19 12:31:08" itemprop="dateCreated datePublished" datetime="2020-04-19T12:31:08+08:00">2020-04-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-04 21:47:11" itemprop="dateModified" datetime="2023-10-04T21:47:11+08:00">2023-10-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blockchain/" itemprop="url" rel="index"><span itemprop="name">blockchain</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/filecoin-elliptic-and-sign/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/filecoin-elliptic-and-sign/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="æ¤­åœ†æ›²çº¿çš„é€‰æ‹©"><a href="#æ¤­åœ†æ›²çº¿çš„é€‰æ‹©" class="headerlink" title="æ¤­åœ†æ›²çº¿çš„é€‰æ‹©"></a>æ¤­åœ†æ›²çº¿çš„é€‰æ‹©</h2><p>FileCoinå’Œå¤§å¤šæ•°ä¸»æµåŒºå—é“¾ä¸€æ ·ï¼Œåº•å±‚ä½¿ç”¨secp256k1è¿™æ¡æ¤­åœ†æ›²çº¿ã€‚secp256k1æœ‰å¤šç§è¯­è¨€ç‰ˆæœ¬ã€‚</p>
<p>æ¯”ç‰¹å¸çº¯Goç‰ˆæœ¬å®ç°ï¼š<a target="_blank" rel="noopener" href="https://github.com/btcsuite/btcd/tree/master/btcec">btcec</a></p>
<p>ä»¥å¤ªåŠé‡‡ç”¨çš„C++ç‰ˆæœ¬ï¼š<a target="_blank" rel="noopener" href="https://github.com/ethereum/go-ethereum/tree/master/crypto/secp256k1">go-ethereum/crypto/secp256k1</a></p>
<p>ä»¥åŠFileCoinä½¿ç”¨çš„Cç‰ˆæœ¬ï¼š<a href="github.com/ipsn/go-secp256k1">go-secp256k1</a></p>
<p>ğŸ’¡ æ³¨æ„ï¼ŒFileCoin æ”¯æŒä¸¤ç§ç­¾åï¼Œä¸€ç§æ˜¯æ¤­åœ†æ›²çº¿ç­¾åï¼Œä¸€ç§æ˜¯blsç­¾åã€‚</p>
<p>blsç­¾ååº“ä½¿ç”¨äº†rustç‰ˆæœ¬çš„å®ç°ï¼š<a target="_blank" rel="noopener" href="https://github.com/filecoin-project/filecoin-ffi">Filecoin Proofs FFI</a></p>
<blockquote>
<p>BLS ç­¾åç®—æ³•æ˜¯ä¸€ç§å¯ä»¥å®ç°ç­¾åèšåˆå’Œå¯†é’¥èšåˆçš„ç®—æ³•ï¼ˆå³å¯ä»¥å°†å¤šä¸ªå¯†é’¥èšåˆæˆä¸€æŠŠå¯†é’¥ï¼Œå°†å¤šä¸ªç­¾åèšåˆæˆä¸€ä¸ªç­¾åï¼‰ã€‚åœ¨ä»¥å¤ªåŠæœªæ¥çš„ Casper å®ç°ä¸­ï¼Œæœ‰éå¸¸å¤šçš„éªŒè¯è€…éƒ½è¦å¯¹åŒºå—ç­¾åï¼Œè¦ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒåŒæ—¶èŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œå°±éœ€è¦ç”¨åˆ°è¿™ç±»ç­¾åèšåˆçš„ç®—æ³•ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.iacr.org/archive/asiacrypt2001/22480516.pdf">Boneh-Lynn-Shacham</a></p>
</blockquote>
<p>æˆ‘ä»¬ä½¿ç”¨æ¤­åœ†æ›²çº¿ç­¾åæ¥ç”Ÿæˆç§é’¥ã€‚</p>
<h2 id="ç”Ÿæˆç§é’¥"><a href="#ç”Ÿæˆç§é’¥" class="headerlink" title="ç”Ÿæˆç§é’¥"></a>ç”Ÿæˆç§é’¥</h2><p>ä»¥æ¯”ç‰¹å¸<code>btcec</code>ä¸ºä¾‹ï¼Œç”Ÿæˆç¬¦åˆFileCoinçš„ç§é’¥ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sk, _ := btcec.NewPrivateKey(btcec.S256())</span><br></pre></td></tr></table></figure>
<h2 id="ç”Ÿæˆåœ°å€"><a href="#ç”Ÿæˆåœ°å€" class="headerlink" title="ç”Ÿæˆåœ°å€"></a>ç”Ÿæˆåœ°å€</h2><h3 id="è·å¾—å…¬é’¥"><a href="#è·å¾—å…¬é’¥" class="headerlink" title="è·å¾—å…¬é’¥"></a>è·å¾—å…¬é’¥</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;crypto/elliptic&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–æ¤­åœ†æ›²çº¿ä¸Šçš„åæ ‡ç‚¹ä¸ºæœªå‹ç¼©æ ¼å¼çš„å…¬é’¥</span></span><br><span class="line">pub := elliptic.Marshal(btcec.S256(), sk.PublicKey.X, sk.PublicKey.Y)</span><br></pre></td></tr></table></figure>
<h3 id="è·å¾—åœ°å€"><a href="#è·å¾—åœ°å€" class="headerlink" title="è·å¾—åœ°å€"></a>è·å¾—åœ°å€</h3><h4 id="å¯¹å…¬é’¥åšå“ˆå¸Œè¿ç®—"><a href="#å¯¹å…¬é’¥åšå“ˆå¸Œè¿ç®—" class="headerlink" title="å¯¹å…¬é’¥åšå“ˆå¸Œè¿ç®—"></a>å¯¹å…¬é’¥åšå“ˆå¸Œè¿ç®—</h4><p>FileCoinä¸­æœ‰ä¸€ä¸ªé€šç”¨çš„å“ˆå¸Œå‡½æ•°ï¼Œä½¿ç”¨blake2bå¿«é€Ÿå“ˆå¸Œã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(ingest []<span class="type">byte</span>, cfg *blake2b.Config)</span></span> []<span class="type">byte</span> &#123;</span><br><span class="line">	hasher, err := blake2b.New(cfg)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="comment">// If this happens sth is very wrong.</span></span><br><span class="line">		<span class="built_in">panic</span>(fmt.Sprintf(<span class="string">&quot;invalid address hash configuration: %v&quot;</span>, err)) <span class="comment">// ok</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> _, err := hasher.Write(ingest); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="comment">// blake2bs Write implementation never returns an error in its current</span></span><br><span class="line">		<span class="comment">// setup. So if this happens sth went very wrong.</span></span><br><span class="line">		<span class="built_in">panic</span>(fmt.Sprintf(<span class="string">&quot;blake2b is unable to process hashes: %v&quot;</span>, err)) <span class="comment">// ok</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hasher.Sum(<span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹å…¬é’¥è¿›è¡Œä¸€æ¬¡å“ˆå¸Œè¿ç®—ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hash(pub, &amp;blake2b.Config&#123;Size: <span class="number">20</span>&#125;)</span><br></pre></td></tr></table></figure>
<p>åŸæ–‡æ³¨é‡Šé‡Œæ˜¯è¿™æ ·è¯´çš„ï¼š</p>
<blockquote>
<p>PayloadHashLength defines the hash length taken over addresses using the Actor and SECP256K1 protocols.</p>
</blockquote>
<p>è¿™é‡Œçš„<code>PayloadHashLength</code>ç­‰äº20ã€‚</p>
<h4 id="ç”Ÿæˆåœ°å€æ ¼å¼"><a href="#ç”Ÿæˆåœ°å€æ ¼å¼" class="headerlink" title="ç”Ÿæˆåœ°å€æ ¼å¼"></a>ç”Ÿæˆåœ°å€æ ¼å¼</h4><p>ç„¶åæ‹¼æ¥åœ°å€æ ¼å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">explen := <span class="number">1</span> + <span class="built_in">len</span>(payload)</span><br><span class="line">buf := <span class="built_in">make</span>([]<span class="type">byte</span>, explen)</span><br><span class="line"></span><br><span class="line">buf[<span class="number">0</span>] = protocol</span><br><span class="line"><span class="built_in">copy</span>(buf[<span class="number">1</span>:], payload)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„<code>protocol</code>å€¼å›ºå®šä¸º1ï¼Œ<code>payload</code>ä¸º<code>hash(pub)</code>ã€‚</p>
<h4 id="å¯¹åœ°å€ç¼–ç "><a href="#å¯¹åœ°å€ç¼–ç " class="headerlink" title="å¯¹åœ°å€ç¼–ç "></a>å¯¹åœ°å€ç¼–ç </h4><p>FileCoin å†…æœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œå°†ç”Ÿæˆç¼–ç åæˆ‘ä»¬çœ‹åˆ°çš„åœ°å€æ ¼å¼å¦‚ï¼š<code>t1qecjxje6yjq2yatfgj3noapi5fa3cr7vmrw6xti</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">encode</span><span class="params">(network Network, addr Address)</span></span> (<span class="type">string</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> addr == Undef &#123;</span><br><span class="line">		<span class="keyword">return</span> UndefAddressString, <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> ntwk <span class="type">string</span></span><br><span class="line">	<span class="keyword">switch</span> network &#123;</span><br><span class="line">	<span class="keyword">case</span> Mainnet:</span><br><span class="line">		ntwk = MainnetPrefix</span><br><span class="line">	<span class="keyword">case</span> Testnet:</span><br><span class="line">		ntwk = TestnetPrefix</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="keyword">return</span> UndefAddressString, ErrUnknownNetwork</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> strAddr <span class="type">string</span></span><br><span class="line">	<span class="keyword">switch</span> addr.Protocol() &#123;</span><br><span class="line">	<span class="keyword">case</span> SECP256K1, Actor, BLS:</span><br><span class="line">		cksm := Checksum(<span class="built_in">append</span>([]<span class="type">byte</span>&#123;addr.Protocol()&#125;, addr.Payload()...))</span><br><span class="line">		strAddr = ntwk + fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, addr.Protocol()) + AddressEncoding.WithPadding(<span class="number">-1</span>).EncodeToString(<span class="built_in">append</span>(addr.Payload(), cksm[:]...))</span><br><span class="line">	<span class="keyword">case</span> ID:</span><br><span class="line">		i, n, err := varint.FromUvarint(addr.Payload())</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> UndefAddressString, xerrors.Errorf(<span class="string">&quot;could not decode varint: %w&quot;</span>, err)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> n != <span class="built_in">len</span>(addr.Payload()) &#123;</span><br><span class="line">			<span class="keyword">return</span> UndefAddressString, xerrors.Errorf(<span class="string">&quot;payload contains additional bytes&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		strAddr = fmt.Sprintf(<span class="string">&quot;%s%d%d&quot;</span>, ntwk, addr.Protocol(), i)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="keyword">return</span> UndefAddressString, ErrUnknownProtocol</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> strAddr, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Network</code>çœ‹ä½œæ˜¯æšä¸¾ï¼Œ<code>0</code>ä»£è¡¨<code>Mainnet</code>ï¼Œ<code>1</code>ä»£è¡¨<code>Testnet</code>ã€‚<code>TestnetPrefix = â€œtâ€</code>ï¼Œ<code>MainnetPrefix = â€œfâ€</code>ã€‚</p>
<p>å¯¹åœ°å€æ ¼å¼å†æ¬¡åšå“ˆå¸Œï¼Œä½œä¸ºåœ°å€æ‘˜è¦</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cksm := hash(buf, &amp;blake2b.Config&#123;Size: <span class="number">4</span>&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ChecksumHashLength defines the hash length used for calculating address checksums.</p>
</blockquote>
<p><code>ChecksumHashLength</code>ç­‰äº4ã€‚</p>
<p>å¯¹<code>hash(pub)</code>+<code>cksum</code>åšbase32è½¬æ¢ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> encodeStd = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz234567&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// AddressEncoding defines the base32 config used for address encoding and decoding.</span></span><br><span class="line"><span class="keyword">var</span> AddressEncoding = base32.NewEncoding(encodeStd)</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆåœ°å€ç­‰äº<code>ç½‘ç»œå‰ç¼€</code>+<code>æ¤­åœ†æ›²çº¿ç±»å‹</code>+<code>base32(hash(pub)+cksum)</code></p>
<h2 id="ç¦»çº¿ç­¾å"><a href="#ç¦»çº¿ç­¾å" class="headerlink" title="ç¦»çº¿ç­¾å"></a>ç¦»çº¿ç­¾å</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨secp256k1ç­¾å</span></span><br><span class="line"><span class="comment">// ç­¾åå‰ä½¿ç”¨blake2å“ˆå¸Œç®—æ³•å¯¹è¦ç­¾åçš„æ¶ˆæ¯åšä¿¡æ¯æ‘˜è¦ï¼Œç»Ÿä¸€ç­¾åæ¶ˆæ¯çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(secpSigner)</span></span> Sign(pk []<span class="type">byte</span>, msg []<span class="type">byte</span>) ([]<span class="type">byte</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	b2sum := blake2b.Sum256(msg)</span><br><span class="line">	sig, err := crypto.Sign(pk, b2sum[:])</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> sig, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>crypto.Sign</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Sign signs the given message, which must be 32 bytes long.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sign</span><span class="params">(sk, msg []<span class="type">byte</span>)</span></span> ([]<span class="type">byte</span>, <span class="type">error</span>) &#123;</span><br><span class="line">  <span class="comment">// secp256k1 å°±æ˜¯æœ€ç»ˆçš„æ¤­åœ†æ›²çº¿ç­¾åï¼Œè¿™ä¸ªç­¾åå¯ä»¥æ›¿æ¢æˆsecp256k1ä¸åŒè¯­è¨€ç‰ˆæœ¬çš„å®ç°</span></span><br><span class="line">	<span class="keyword">return</span> secp256k1.Sign(msg, sk)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/golang-interface-pit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/golang-interface-pit/" class="post-title-link" itemprop="url">Goè¯­è¨€interfaceçš„å‘</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-10 22:37:56" itemprop="dateCreated datePublished" datetime="2020-04-10T22:37:56+08:00">2020-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-10-04 21:46:52" itemprop="dateModified" datetime="2023-10-04T21:46:52+08:00">2023-10-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/" itemprop="url" rel="index"><span itemprop="name">golang</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/golang-interface-pit/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/golang-interface-pit/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»¥ä¸‹ä»£ç æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆ</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Namespace <span class="keyword">interface</span> &#123;</span><br><span class="line">	Value() <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyNamespace <span class="keyword">struct</span> &#123;</span><br><span class="line">	value <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(n *MyNamespace)</span></span> Value() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> n.value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">(n Namespace)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(n.Value())</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> n *MyNamespace = <span class="literal">nil</span></span><br><span class="line">	show(n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç»“æœæ˜¯æŠ¥é”™ã€‚</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">panic: runtime error: invalid memory <span class="selector-tag">address</span> or nil pointer dereference</span><br><span class="line"><span class="selector-attr">[signal SIGSEGV: segmentation violation code=0xffffffff addr=0x0 pc=0xe01c6]</span></span><br><span class="line"></span><br><span class="line">goroutine <span class="number">1</span> <span class="selector-attr">[running]</span>:</span><br><span class="line"><span class="selector-tag">main</span>.(*MyNamespace)<span class="selector-class">.Value</span>(<span class="number">0</span>x0, <span class="number">0</span>x5bf2, <span class="number">0</span>x119bf8, <span class="number">0</span>x1d)</span><br><span class="line">	/tmp/sandbox404522411/prog<span class="selector-class">.go</span>:<span class="number">16</span> +<span class="number">0</span>x6</span><br><span class="line"><span class="selector-tag">main</span><span class="selector-class">.show</span>(<span class="number">0</span>x15d910, <span class="number">0</span>x0)</span><br><span class="line">	/tmp/sandbox404522411/prog<span class="selector-class">.go</span>:<span class="number">21</span> +<span class="number">0</span>x40</span><br><span class="line"><span class="selector-tag">main</span><span class="selector-class">.main</span>()</span><br><span class="line">	/tmp/sandbox404522411/prog<span class="selector-class">.go</span>:<span class="number">30</span> +<span class="number">0</span>x40</span><br><span class="line"></span><br><span class="line">Program exited.</span><br></pre></td></tr></table></figure>
<p>æŠ¥ä¸€ä¸ªç©ºæŒ‡é’ˆé”™è¯¯ã€‚<code>n != nil</code>çš„åˆ¤æ–­åœ¨è¿™é‡Œæ— æ•ˆã€‚</p>
<p>åŸå› æ˜¯Goè¯­è¨€ä¸­ï¼Œ<code>interface&#123;&#125;</code>ç±»å‹çš„å˜é‡åŒ…å«äº†2ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å€¼çš„ç±»å‹ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®é™…çš„å€¼ã€‚<code>MyNamespace</code>å®ç°äº†<code>Namespace</code>æ¥å£ï¼Œ<code>n</code>åœ¨ä¼ å…¥<code>Show(n)</code>å‡½æ•°æ—¶è¢«è‡ªåŠ¨è½¬å‹æˆä¸º<code>Namespace</code>ã€‚<code>var n *MyNameSpace = nil</code>åªæ˜¯å£°æ˜äº†è¯¥æ¥å£ç±»å‹çš„å®é™…å€¼ä¸ºnilï¼Œè™½ç„¶æˆ‘ä»¬æŠŠä¸€ä¸ªnilå€¼èµ‹å€¼ç»™å®ƒï¼Œä½†æ˜¯å®é™…ä¸Šinterfaceé‡Œä¾ç„¶å­˜äº†æŒ‡å‘ç±»å‹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥æ‹¿è¿™ä¸ªinterfaceå˜é‡å»å’Œnilå¸¸é‡è¿›è¡Œæ¯”è¾ƒçš„è¯å°±ä¼šè¿”å›<code>false</code>ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> asStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">	pt <span class="type">uintptr</span></span><br><span class="line">	pv <span class="type">uintptr</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">(n Namespace)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;ğŸ‘‰ğŸ‘‰ %p\n&quot;</span>, n)</span><br><span class="line">	x := *(*asStruct)(unsafe.Pointer(&amp;n))</span><br><span class="line">	spew.Dump(x)</span><br><span class="line">	spew.Println(<span class="string">&quot;n == nil ?&quot;</span>, n == <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">if</span> n != <span class="literal">nil</span> &amp;&amp; !reflect.ValueOf(n).IsNil() &#123;</span><br><span class="line">		fmt.Println(n.Value())</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Outputï¼š</span></span><br><span class="line"><span class="comment">// ğŸ‘‰ğŸ‘‰ 0x0</span></span><br><span class="line"><span class="comment">// (main.asStruct) &#123;</span></span><br><span class="line"><span class="comment">//  pt: (uintptr) 0x1125f80,</span></span><br><span class="line"><span class="comment">//  pv: (uintptr) &lt;nil&gt;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// n == nil ? false</span></span><br><span class="line"><span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çœ‹åˆ°ä¼ å…¥çš„å‚æ•°æŒ‡é’ˆå€¼ä¸º0ï¼Œä½†<code>interface&#123;&#125;</code>ç±»å‹çš„å˜é‡çš„ä¸¤ä¸ªæŒ‡é’ˆï¼Œå€¼çš„ç±»å‹æ˜¯æœ‰å€¼çš„ï¼Œå®é™…å€¼ä¸ºnilã€‚å› æ­¤æ¥å£ä¼ å…¥çš„ä¸æ˜¯å®é™…çš„nilçš„æƒ…å†µä¸‹ï¼Œ<code>n==nil</code>å°±ä¸ºfalseã€‚å¯ä»¥ä½¿ç”¨<code>reflect.ValueOf(n).IsNil()</code>æ¥åˆ¤æ–­æ˜¯å¦å®é™…å€¼ä¸ºnilã€‚</p>
<p><code>reflect.ValueOf</code>åªæ¥å—æŒ‡é’ˆç±»å‹ï¼Œå¦åˆ™ä¼š<code>panic</code>ã€‚</p>
<p>å¦‚æœæ˜¾å¼ä¼ å…¥<code>show(nil)</code>ï¼Œ<code>interface&#123;&#125;</code>ç±»å‹å˜é‡çš„ä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¸ºnilï¼Œåˆ™<code>n == nil</code>åˆ¤æ–­ç”Ÿæ•ˆã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//show(nil)</span></span><br><span class="line">(main.asStruct) &#123;</span><br><span class="line"> pt: (<span class="type">uintptr</span>) &lt;<span class="literal">nil</span>&gt;,</span><br><span class="line"> pv: (<span class="type">uintptr</span>) &lt;<span class="literal">nil</span>&gt;</span><br><span class="line">&#125;</span><br><span class="line">n == <span class="literal">nil</span> ? <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://studygolang.com/articles/10635">Goè¯­è¨€ç¬¬ä¸€æ·±å‘ - interface ä¸ nil çš„æ¯”è¾ƒ</a></p>
<p><a target="_blank" rel="noopener" href="https://studygolang.com/articles/5955">golangä¸­interfaceåˆ¤æ–­nilé—®é¢˜</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/bandwidth">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/bandwidth" class="post-title-link" itemprop="url">ç½‘ç»œå¸¦å®½çš„é‚£ç‚¹äº‹</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-20 19:54:51 / ä¿®æ”¹æ—¶é—´ï¼š20:28:51" itemprop="dateCreated datePublished" datetime="2020-03-20T19:54:51+08:00">2020-03-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/bandwidth#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/bandwidth" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>ä¸€èˆ¬å®¶åº­å†…å—æˆ¿é—´å¸ƒå±€å½±å“ï¼Œé€šå¸¸éƒ½ä¼šåœ¨æˆ¿é—´çš„å‡ ä¸ªè§’è½å¸ƒç½®å¤šä¸ªWi-Fiè®¾å¤‡ã€‚çœŸéš¾æƒ³è±¡ï¼Œå¦‚æœæ¯ä¸ªWi-Fiè®¾å¤‡ç›¸äº’ç‹¬ç«‹å·¥ä½œï¼Œéœ€è¦å¿å—ç€ä¿¡å·å·®æ—¶éœ€è¦æ‰‹åŠ¨åˆ‡æ¢Wi-Fiä¿¡å·çš„ç—›è‹¦ã€‚</p>
<blockquote>
<p>æœ‰ä¸€ç§æ¦‚å¿µå«æ— çº¿æ¼«æ¸¸ï¼Œå½“ç½‘ç»œç¯å¢ƒå­˜åœ¨å¤šä¸ªç›¸åŒSSIDçš„APï¼Œä¸”å®ƒä»¬çš„å¾®å•å…ƒäº’ç›¸æœ‰ä¸€å®šèŒƒå›´çš„é‡åˆæ—¶ï¼Œæ— çº¿ç”¨æˆ·å¯ä»¥åœ¨æ•´ä¸ªWLANè¦†ç›–åŒºå†…ç§»åŠ¨ï¼Œæ— çº¿ç½‘å¡èƒ½å¤Ÿè‡ªåŠ¨å‘ç°é™„è¿‘ä¿¡å·å¼ºåº¦æœ€å¤§çš„APï¼Œå¹¶é€šè¿‡è¿™ä¸ªAPæ”¶å‘æ•°æ®ï¼Œä¿æŒä¸é—´æ–­çš„ç½‘ç»œè¿æ¥ï¼Œè¿™å°±ç§°ä¸ºæ— çº¿æ¼«æ¸¸ã€‚</p>
</blockquote>
<p>åä¸ºè·¯ç”±å™¨ï¼ˆè£è€€è·¯ç”±2ï¼‰ï¼Œå®ƒè‡ªå¸¦Bridge(AP)æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼éå¸¸æ£’ï¼Œæ¯ä¸ªæ— çº¿Wi-Fiä¿¡å·æºéƒ½è®¾ç½®ç›¸åŒçš„ä¿¡å·åç§°ã€ç›¸åŒçš„é¢‘æ®µã€ç›¸åŒçš„å¯†ç ç­‰å…¨éƒ¨ç›¸åŒçš„ä¿¡å·è®¾ç½®æƒ…å†µä¸‹ï¼Œå…¨å±‹å°±å¯ä»¥äº«å—ç»Ÿä¸€çš„Wi-Fiæ¥å…¥ï¼å†ä¹Ÿä¸ç”¨å¿å—æ‰‹åŠ¨åˆ‡æ¢ä¿¡å·çš„ç—›è‹¦äº†ã€‚ç„¶è€Œåä¸ºè·¯ç”±å™¨æœ¬èº«å¸¦æœ‰meshåŠŸèƒ½ï¼Œå¤šä¸ªåŒç±»å‹è·¯ç”±å™¨ä¹‹é—´å¯ä»¥æ— ç¼åˆ‡æ¢ã€‚å®¶ç”¨è·¯ç”±å™¨å‡ ä¸ªå‹å·ä¸ä¸€è‡´ï¼Œæ— æ³•äº«å—meshåŠŸèƒ½åšæ— ç¼åˆ‡æ¢ï¼Œåªèƒ½ç®—åšâ€œå¿«é€Ÿæ¼«æ¸¸â€ã€‚</p>
<p>å¿«é€Ÿæ¼«æ¸¸è™½ç„¶å¯ä»¥é€šè¿‡åŒåWi-Fièµ·åˆ°å¿«é€Ÿåˆ‡æ¢çš„ä½œç”¨ï¼Œä½†å¯èƒ½ä¼šé€ æˆIPåœ°å€åˆ‡æ¢ã€ç½‘ç»œæ–­å¼€é‡è¿ã€‚å› æ­¤éœ€è¦åœ¨ä¸Šçº§è·¯ç”±å™¨ä¸­ç»‘å®šMacåœ°å€ä¸ºé™æ€IPåˆ†é…ï¼Œä¿è¯åœ¨ä¿¡å·åˆ‡æ¢åIPåœ°å€ä¸å˜ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/bandwidth#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://alpha.checkitout.dev/2020/03/14/%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%E4%BB%A5%E5%8F%8ACodepen/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="alpha">
      <meta itemprop="description" content="è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Check it out">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/14/%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%E4%BB%A5%E5%8F%8ACodepen/" class="post-title-link" itemprop="url">æ°´å¹³å‚ç›´å±…ä¸­ä»¥åŠCodepen</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-14 15:43:27 / ä¿®æ”¹æ—¶é—´ï¼š15:58:53" itemprop="dateCreated datePublished" datetime="2020-03-14T15:43:27+08:00">2020-03-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frontend/" itemprop="url" rel="index"><span itemprop="name">Frontend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqusï¼š</span>
    
    <a title="disqus" href="/2020/03/14/%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%E4%BB%A5%E5%8F%8ACodepen/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/14/æ°´å¹³å‚ç›´å±…ä¸­ä»¥åŠCodepen/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="åšå®¢æ”¯æŒCodePençš„æ–¹æ³•"><a href="#åšå®¢æ”¯æŒCodePençš„æ–¹æ³•" class="headerlink" title="åšå®¢æ”¯æŒCodePençš„æ–¹æ³•"></a>åšå®¢æ”¯æŒCodePençš„æ–¹æ³•</h2><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/hexo-codepen">https://www.npmjs.com/package/hexo-codepen</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D hexo-codepen</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨Markdownä¸­åµŒå…¥</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">codepen</span> userId|anonymous|anon slugHash theme [defaultTab [height [width]]] %&#125;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨CodePenç¼–è¾‘å™¨å³ä¸‹è§’<code>Embed</code>æŒ‰é’®å¼¹å¼€åï¼Œå¤åˆ¶HTMLä»£ç å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;codepen&quot;</span> <span class="attr">data-height</span>=<span class="string">&quot;265&quot;</span> <span class="attr">data-theme-id</span>=<span class="string">&quot;dark&quot;</span> <span class="attr">data-default-tab</span>=<span class="string">&quot;html,result&quot;</span> <span class="attr">data-user</span>=<span class="string">&quot;alphaqiu&quot;</span> <span class="attr">data-slug-hash</span>=<span class="string">&quot;MWwVzar&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&quot;</span> <span class="attr">data-pen-title</span>=<span class="string">&quot;æ°´å¹³å‚ç›´å±…ä¸­/Loading mask&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>See the Pen <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://codepen.io/alphaqiu/pen/MWwVzar&quot;</span>&gt;</span></span><br><span class="line">  æ°´å¹³å‚ç›´å±…ä¸­/Loading mask<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by alphaqiu (<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://codepen.io/alphaqiu&quot;</span>&gt;</span>@alphaqiu<span class="tag">&lt;/<span class="name">a</span>&gt;</span>)</span><br><span class="line">  on <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://codepen.io&quot;</span>&gt;</span>CodePen<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://static.codepen.io/assets/embed/ei.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æŠŠ<code>p</code>ğŸ·ï¸æ ‡ç­¾é‡Œå¯¹åº”çš„å‚æ•°å¡«åˆ°æ½œå…¥ä»£ç å¯¹åº”ä½ç½®ï¼š</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">codepen</span> alphaqiu MWwVzar dark <span class="string">&quot;result&quot;</span> <span class="number">500</span> <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="æ°´å¹³å’Œå‚ç›´å±…ä¸­"><a href="#æ°´å¹³å’Œå‚ç›´å±…ä¸­" class="headerlink" title="æ°´å¹³å’Œå‚ç›´å±…ä¸­"></a>æ°´å¹³å’Œå‚ç›´å±…ä¸­</h2><iframe id="cp_embed_MWwVzar" src="//codepen.io/alphaqiu/embed/MWwVzar?height=500&theme-id=dark&slug-hash=MWwVzar&default-tab=result" scrolling="no" frameborder="no" height="500" allowTransparency="true" allowfullscreen="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="alpha"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">alpha</p>
  <div class="site-description" itemprop="description">è®°å½•å·¥ä½œä¸­ç ”ç©¶å’Œå­¦ä¹ çš„å†…å®¹ï¼ŒæŠŠä»–ä»¬ä»¥æ–‡å­—çš„å½¢å¼è®°å½•ä¸‹æ¥ï¼Œå¤‡å¿˜ã€‚</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">45</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/alphaqiu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;alphaqiu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:alphaqiu@gmail.com" title="E-Mail â†’ mailto:alphaqiu@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">alpha</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v6.3.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://alphaqiu.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
